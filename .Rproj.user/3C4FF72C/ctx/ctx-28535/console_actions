{
    "type": [
        2,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2
    ],
    "data": [
        "\nR version 4.3.3 (2024-02-29 ucrt) -- \"Angel Food Cake\"\nCopyright (C) 2024 The R Foundation for Statistical Computing\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\n\nR是自由软件，不带任何担保。\n在某些条件下你可以将其自由散布。\n用'license()'或'licence()'来看散布的详细条件。\n\nR是个合作计划，有许多人为之做出了贡献.\n用'contributors()'来看合作者的详细情况\n用'citation()'会告诉你如何在出版物中正确地引用R或R程序包。\n\n用'demo()'来看一些示范程序，用'help()'来阅读在线帮助文件，或\n用'help.start()'通过HTML浏览器来看帮助文件。\n用'q()'退出R.\n\n",
        "> ",
        "movie_file <- \"raw-data/movies.xlsx\"",
        "> ",
        "movie_fl <- read_excel(movie_file,sheet=1,na=\"NA\")",
        "Error in read_excel(movie_file, sheet = 1, na = \"NA\") : \n  没有\"read_excel\"这个函数\n",
        "> ",
        "pacman::p_load(tidyverse)",
        "> ",
        "movie_file <- \"raw-data/movies.xlsx\"",
        "> ",
        "movie_fl <- read_excel(movie_file,sheet=1,na=\"NA\")",
        "Error in read_excel(movie_file, sheet = 1, na = \"NA\") : \n  没有\"read_excel\"这个函数\n",
        "> ",
        "pacman::p_load(tidyverse,readxl)",
        "> ",
        "movie_file <- \"raw-data/movies.xlsx\"",
        "> ",
        "movie_fl <- read_excel(movie_file,sheet=1,na=\"NA\")",
        "> ",
        "movie_fl <- filter(movie_fl, movie_fl$christmas",
        "+ ",
        "                   == \"TRUE\")",
        "> ",
        "movie_fl <- movie_fl |>",
        "+ ",
        "  select(genres, average_rating, num_votes)",
        "> ",
        "movie_fl$genres <- strsplit(movie_fl$genres, \",\")",
        "> ",
        "movie_fl %>% group_by(genres)",
        "\u001B[38;5;246m# A tibble: 1,929 × 3\u001B[39m\n\u001B[38;5;246m# Groups:   genres [191]\u001B[39m\n   genres    average_rating num_votes\n   \u001B[3m\u001B[38;5;246m<list>\u001B[39m\u001B[23m             \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m     \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m\n\u001B[38;5;250m 1\u001B[39m \u001B[38;5;246m<chr [3]>\u001B[39m            7.5      \u001B[4m8\u001B[24m312\n\u001B[38;5;250m 2\u001B[39m \u001B[38;5;246m<chr [3]>\u001B[39m            7.4      \u001B[4m4\u001B[24m172\n\u001B[38;5;250m 3\u001B[39m \u001B[38;5;246m<chr [3]>\u001B[39m            6.5      \u001B[4m1\u001B[24m583\n\u001B[38;5;250m 4\u001B[39m \u001B[38;5;246m<chr [2]>\u001B[39m            7.3     \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m196\n",
        "\u001B[38;5;250m 5\u001B[39m \u001B[38;5;246m<chr [3]>\u001B[39m            6.2       515\n\u001B[38;5;250m 6\u001B[39m \u001B[38;5;246m<chr [2]>\u001B[39m            5.7       805\n\u001B[38;5;250m 7\u001B[39m \u001B[38;5;246m<chr [2]>\u001B[39m            5.4        32\n\u001B[38;5;250m 8\u001B[39m \u001B[38;5;246m<chr [3]>\u001B[39m            8.1     \u001B[4m2\u001B[24m\u001B[4m4\u001B[24m671\n\u001B[38;5;250m 9\u001B[39m \u001B[38;5;246m<chr [3]>\u001B[39m            7.6     \u001B[4m4\u001B[24m\u001B[4m7\u001B[24m688\n\u001B[38;5;250m10\u001B[39m \u001B[38;5;246m<chr [2]>\u001B[39m            6.5        20\n\u001B[38;5;246m# ℹ 1,919 more rows\u001B[39m\n\u001B[38;5;246m# ℹ Use `print(n = ...)` to see more rows\u001B[39m\n",
        "> ",
        "# read and clean data",
        "> ",
        "movie_file <- \"raw-data/movies.xlsx\"",
        "> ",
        "movie_fl <- read_excel(movie_file,sheet=1,na=\"NA\")",
        "> ",
        "movie_fl <- filter(movie_fl, movie_fl$christmas",
        "+ ",
        "                   == \"TRUE\")",
        "> ",
        "movie_fl <- movie_fl |>",
        "+ ",
        "  select(genres, average_rating, num_votes)",
        "> ",
        "movie_fl %>% group_by(genres)",
        "\u001B[38;5;246m# A tibble: 1,929 × 3\u001B[39m\n\u001B[38;5;246m# Groups:   genres [191]\u001B[39m\n   genres                  average_rating num_votes\n   \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m                            \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m     \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m\n\u001B[38;5;250m 1\u001B[39m Drama,Family,Fantasy               7.5      \u001B[4m8\u001B[24m312\n\u001B[38;5;250m 2\u001B[39m Comedy,Drama,Romance               7.4      \u001B[4m4\u001B[24m172\n\u001B[38;5;250m 3\u001B[39m Crime,Drama,Film-Noir              6.5      \u001B[4m1\u001B[24m583\n\u001B[38;5;250m 4\u001B[39m Comedy,Romance                     7.3     \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m196\n",
        "\u001B[38;5;250m 5\u001B[39m Action,Adventure,Comedy            6.2       515\n\u001B[38;5;250m 6\u001B[39m Comedy,Drama                       5.7       805\n\u001B[38;5;250m 7\u001B[39m Drama,Fantasy                      5.4        32\n\u001B[38;5;250m 8\u001B[39m Drama,Family,Fantasy               8.1     \u001B[4m2\u001B[24m\u001B[4m4\u001B[24m671\n\u001B[38;5;250m 9\u001B[39m Comedy,Musical,Romance             7.6     \u001B[4m4\u001B[24m\u001B[4m7\u001B[24m688\n\u001B[38;5;250m10\u001B[39m Drama,War                          6.5        20\n\u001B[38;5;246m# ℹ 1,919 more rows\u001B[39m\n\u001B[38;5;246m# ℹ Use `print(n = ...)` to see more rows\u001B[39m\n",
        "> ",
        "movie_gp <- movie_fl %>% group_by(genres)",
        "> ",
        "View(movie_gp)",
        "> ",
        "View(movie_fl)",
        "> ",
        "View(movie_gp)",
        "> ",
        "?group_by",
        "> ",
        "group_by(movie_fl,genres)",
        "\u001B[38;5;246m# A tibble: 1,929 × 3\u001B[39m\n\u001B[38;5;246m# Groups:   genres [191]\u001B[39m\n   genres                  average_rating num_votes\n   \u001B[3m\u001B[38;5;246m<chr>\u001B[39m\u001B[23m                            \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m     \u001B[3m\u001B[38;5;246m<dbl>\u001B[39m\u001B[23m\n\u001B[38;5;250m 1\u001B[39m Drama,Family,Fantasy               7.5      \u001B[4m8\u001B[24m312\n\u001B[38;5;250m 2\u001B[39m Comedy,Drama,Romance               7.4      \u001B[4m4\u001B[24m172\n\u001B[38;5;250m 3\u001B[39m Crime,Drama,Film-Noir              6.5      \u001B[4m1\u001B[24m583\n\u001B[38;5;250m 4\u001B[39m Comedy,Romance                     7.3     \u001B[4m1\u001B[24m\u001B[4m1\u001B[24m196\n",
        "\u001B[38;5;250m 5\u001B[39m Action,Adventure,Comedy            6.2       515\n\u001B[38;5;250m 6\u001B[39m Comedy,Drama                       5.7       805\n\u001B[38;5;250m 7\u001B[39m Drama,Fantasy                      5.4        32\n\u001B[38;5;250m 8\u001B[39m Drama,Family,Fantasy               8.1     \u001B[4m2\u001B[24m\u001B[4m4\u001B[24m671\n\u001B[38;5;250m 9\u001B[39m Comedy,Musical,Romance             7.6     \u001B[4m4\u001B[24m\u001B[4m7\u001B[24m688\n\u001B[38;5;250m10\u001B[39m Drama,War                          6.5        20\n\u001B[38;5;246m# ℹ 1,919 more rows\u001B[39m\n\u001B[38;5;246m# ℹ Use `print(n = ...)` to see more rows\u001B[39m\n",
        "> ",
        "table(movie_fl,genres)",
        "错误: 找不到对象'genres'\n",
        "> ",
        "table(movie_fl$genres)",
        "\n Action,Adventure,Animation     Action,Adventure,Comedy      Action,Adventure,Drama \n                          2                           2                           3 \n              Action,Comedy         Action,Comedy,Crime         Action,Comedy,Drama \n                          3                           2                           2 \n       Action,Comedy,Family        Action,Comedy,Horror          Action,Crime,Drama \n                          1                           4                           1 \n               Action,Drama ",
        "              Action,Family      Action,Horror,Thriller \n                          1                           1                           1 \n                  Adventure  Adventure,Animation,Comedy   Adventure,Animation,Drama \n                          1                          33                           2 \n Adventure,Animation,Family Adventure,Animation,Fantasy            Adventure,Comedy \n                         14                           1                           2 \n     Adventure,Comedy,Drama     Adventure,Comedy,Family ",
        "   Adventure,Comedy,Musical \n                          6                          16                           1 \n     Adventure,Crime,Family      Adventure,Drama,Family     Adventure,Drama,Fantasy \n                          1                           6                           1 \n    Adventure,Drama,Mystery            Adventure,Family    Adventure,Family,Fantasy \n                          1                           2                           4 \n   Adventure,Fantasy,Horror   Adventure,Fantasy,Romance                   Animation ",
        "\n                          1                           1                          44 \n           Animation,Comedy      Animation,Comedy,Drama     Animation,Comedy,Family \n                          5                           4                          30 \n   Animation,Comedy,Fantasy    Animation,Comedy,Musical    Animation,Comedy,Romance \n                          1                           1                           3 \n    Animation,Comedy,Sci-Fi      Animation,Comedy,Short             Animation,Drama \n                          1 ",
        "                          2                           1 \n     Animation,Drama,Family     Animation,Drama,Fantasy            Animation,Family \n                          6                           2                          44 \n   Animation,Family,Fantasy      Animation,Family,Music    Animation,Family,Musical \n                         13                           2                           5 \n    Animation,Family,Sci-Fi      Animation,Family,Short           Animation,Fantasy \n                          2                           9 ",
        "                          2 \n   Animation,Fantasy,Horror     Animation,Fantasy,Short      Animation,Horror,Short \n                          1                           2                           1 \n          Animation,Musical           Animation,Romance             Animation,Short \n                          2                           1                          12 \n     Biography,Comedy,Drama Biography,Documentary,Sport             Biography,Drama \n                          1                           1                           1 ",
        "\n     Biography,Drama,Family       Biography,Romance,War                      Comedy \n                          1                           1                         138 \n         Comedy,Crime,Drama         Comedy,Crime,Family         Comedy,Crime,Horror \n                          1                           1                           1 \n       Comedy,Crime,Mystery        Comedy,Crime,Romance       Comedy,Crime,Thriller \n                          1                           1                           2 \n       Comedy,Crime,Western ",
        "         Comedy,Documentary   Comedy,Documentary,Family \n                          1                           2                           2 \n   Comedy,Documentary,Music    Comedy,Documentary,Short      Comedy,Documentary,War \n                          1                           2                           1 \n               Comedy,Drama         Comedy,Drama,Family        Comedy,Drama,Fantasy \n                         34                          88                          14 \n        Comedy,Drama,Horror          Comedy,Drama,Music ",
        "       Comedy,Drama,Mystery \n                          1                           6                           2 \n       Comedy,Drama,Romance         Comedy,Drama,Sci-Fi       Comedy,Drama,Thriller \n                        130                           1                           1 \n              Comedy,Family       Comedy,Family,Fantasy        Comedy,Family,Horror \n                         40                          24                           1 \n        Comedy,Family,Music       Comedy,Family,Musical       Comedy,Family,Mystery ",
        "\n                          7                           6                           1 \n      Comedy,Family,Romance        Comedy,Family,Sci-Fi         Comedy,Family,Short \n                         27                           1                           2 \n             Comedy,Fantasy       Comedy,Fantasy,Horror      Comedy,Fantasy,Romance \n                         12                           1                           9 \n      Comedy,Fantasy,Sci-Fi              Comedy,History               Comedy,Horror \n                          1 ",
        "                          1                           7 \n      Comedy,Horror,Mystery        Comedy,Horror,Sci-Fi                Comedy,Music \n                          1                           1                           2 \n       Comedy,Music,Romance              Comedy,Musical      Comedy,Musical,Romance \n                          1                           1                           1 \n       Comedy,Musical,Short      Comedy,Mystery,Romance              Comedy,Romance \n                          1                           1 ",
        "                        136 \n        Comedy,Sci-Fi,Short                Comedy,Short             Comedy,Thriller \n                          1                          12                           1 \n                      Crime       Crime,Drama,Film-Noir         Crime,Drama,Mystery \n                          1                           1                           1 \n       Crime,Drama,Thriller       Crime,Horror,Thriller              Crime,Thriller \n                          3                           1                           1 ",
        "\n                Documentary          Documentary,Family         Documentary,History \n                         40                           4                           3 \n  Documentary,History,Music     Documentary,History,War          Documentary,Horror \n                          2                           1                           1 \n   Documentary,Horror,Short           Documentary,Music           Documentary,Short \n                          1                           9                          11 \n                      Drama ",
        "               Drama,Family        Drama,Family,Fantasy \n                         88                          50                          31 \n       Drama,Family,History          Drama,Family,Music        Drama,Family,Musical \n                          1                           1                           3 \n       Drama,Family,Mystery        Drama,Family,Romance               Drama,Fantasy \n                          2                          33                          14 \n        Drama,Fantasy,Music       Drama,Fantasy,Musical ",
        "      Drama,Fantasy,Romance \n                          2                           1                           8 \n        Drama,History,Music           Drama,History,War                Drama,Horror \n                          1                           1                           1 \n                Drama,Music         Drama,Music,Romance               Drama,Musical \n                          1                           8                           2 \n      Drama,Musical,Romance               Drama,Mystery       Drama,Mystery,Romance ",
        "\n                          3                           1                           5 \n     Drama,Mystery,Thriller               Drama,Romance         Drama,Romance,Sport \n                          1                         126                           1 \n                Drama,Short                   Drama,War               Drama,Western \n                          1                           3                           2 \n                     Family              Family,Fantasy      Family,Fantasy,Musical \n                        106 ",
        "                         10                           2 \n     Family,Fantasy,Romance                Family,Music        Family,Music,Musical \n                          1                           5                           1 \n       Family,Music,Romance          Family,Music,Short              Family,Musical \n                          1                           1                           8 \n        Family,Musical,News        Family,Mystery,Sport              Family,Romance \n                          1                           1 ",
        "                         15 \n              Family,Sci-Fi                Family,Short                     Fantasy \n                          1                           6                           7 \n     Fantasy,Horror,Mystery               Fantasy,Music             Fantasy,Romance \n                          1                           2                           4 \n          History,Short,War                      Horror              Horror,Mystery \n                          1                          20                           1 ",
        "\n    Horror,Mystery,Thriller                Horror,Short             Horror,Thriller \n                          3                           2                           4 \n                      Music               Music,Romance                Music,Sci-Fi \n                         17                           1                           1 \n                Music,Short                     Musical             Mystery,Romance \n                          3                          19                           2 \n           Reality-TV,Short ",
        "                    Romance              Romance,Sci-Fi \n                          1                         117                           1 \n            Romance,Western                      Sci-Fi                       Short \n                          1                           2                           9 \n            Short,Talk-Show                       Sport                   Talk-Show \n                          1                           1                           1 \n                   Thriller \n                          4 ",
        "\n",
        "> ",
        "movie_list$genres <- strsplit(movie_fl$genres, \",\")",
        "错误: 找不到对象'movie_list'\n",
        "> ",
        "table(movie_fl$genres)",
        "\n Action,Adventure,Animation     Action,Adventure,Comedy      Action,Adventure,Drama \n                          2                           2                           3 \n              Action,Comedy         Action,Comedy,Crime         Action,Comedy,Drama \n                          3                           2                           2 \n       Action,Comedy,Family        Action,Comedy,Horror          Action,Crime,Drama \n                          1                           4                           1 \n               Action,Drama ",
        "              Action,Family      Action,Horror,Thriller \n                          1                           1                           1 \n                  Adventure  Adventure,Animation,Comedy   Adventure,Animation,Drama \n                          1                          33                           2 \n Adventure,Animation,Family Adventure,Animation,Fantasy            Adventure,Comedy \n                         14                           1                           2 \n     Adventure,Comedy,Drama     Adventure,Comedy,Family ",
        "   Adventure,Comedy,Musical \n                          6                          16                           1 \n     Adventure,Crime,Family      Adventure,Drama,Family     Adventure,Drama,Fantasy \n                          1                           6                           1 \n    Adventure,Drama,Mystery            Adventure,Family    Adventure,Family,Fantasy \n                          1                           2                           4 \n   Adventure,Fantasy,Horror   Adventure,Fantasy,Romance                   Animation ",
        "\n                          1                           1                          44 \n           Animation,Comedy      Animation,Comedy,Drama     Animation,Comedy,Family \n                          5                           4                          30 \n   Animation,Comedy,Fantasy    Animation,Comedy,Musical    Animation,Comedy,Romance \n                          1                           1                           3 \n    Animation,Comedy,Sci-Fi      Animation,Comedy,Short             Animation,Drama \n                          1 ",
        "                          2                           1 \n     Animation,Drama,Family     Animation,Drama,Fantasy            Animation,Family \n                          6                           2                          44 \n   Animation,Family,Fantasy      Animation,Family,Music    Animation,Family,Musical \n                         13                           2                           5 \n    Animation,Family,Sci-Fi      Animation,Family,Short           Animation,Fantasy \n                          2                           9 ",
        "                          2 \n   Animation,Fantasy,Horror     Animation,Fantasy,Short      Animation,Horror,Short \n                          1                           2                           1 \n          Animation,Musical           Animation,Romance             Animation,Short \n                          2                           1                          12 \n     Biography,Comedy,Drama Biography,Documentary,Sport             Biography,Drama \n                          1                           1                           1 ",
        "\n     Biography,Drama,Family       Biography,Romance,War                      Comedy \n                          1                           1                         138 \n         Comedy,Crime,Drama         Comedy,Crime,Family         Comedy,Crime,Horror \n                          1                           1                           1 \n       Comedy,Crime,Mystery        Comedy,Crime,Romance       Comedy,Crime,Thriller \n                          1                           1                           2 \n       Comedy,Crime,Western ",
        "         Comedy,Documentary   Comedy,Documentary,Family \n                          1                           2                           2 \n   Comedy,Documentary,Music    Comedy,Documentary,Short      Comedy,Documentary,War \n                          1                           2                           1 \n               Comedy,Drama         Comedy,Drama,Family        Comedy,Drama,Fantasy \n                         34                          88                          14 \n        Comedy,Drama,Horror          Comedy,Drama,Music ",
        "       Comedy,Drama,Mystery \n                          1                           6                           2 \n       Comedy,Drama,Romance         Comedy,Drama,Sci-Fi       Comedy,Drama,Thriller \n                        130                           1                           1 \n              Comedy,Family       Comedy,Family,Fantasy        Comedy,Family,Horror \n                         40                          24                           1 \n        Comedy,Family,Music       Comedy,Family,Musical       Comedy,Family,Mystery ",
        "\n                          7                           6                           1 \n      Comedy,Family,Romance        Comedy,Family,Sci-Fi         Comedy,Family,Short \n                         27                           1                           2 \n             Comedy,Fantasy       Comedy,Fantasy,Horror      Comedy,Fantasy,Romance \n                         12                           1                           9 \n      Comedy,Fantasy,Sci-Fi              Comedy,History               Comedy,Horror \n                          1 ",
        "                          1                           7 \n      Comedy,Horror,Mystery        Comedy,Horror,Sci-Fi                Comedy,Music \n                          1                           1                           2 \n       Comedy,Music,Romance              Comedy,Musical      Comedy,Musical,Romance \n                          1                           1                           1 \n       Comedy,Musical,Short      Comedy,Mystery,Romance              Comedy,Romance \n                          1                           1 ",
        "                        136 \n        Comedy,Sci-Fi,Short                Comedy,Short             Comedy,Thriller \n                          1                          12                           1 \n                      Crime       Crime,Drama,Film-Noir         Crime,Drama,Mystery \n                          1                           1                           1 \n       Crime,Drama,Thriller       Crime,Horror,Thriller              Crime,Thriller \n                          3                           1                           1 ",
        "\n                Documentary          Documentary,Family         Documentary,History \n                         40                           4                           3 \n  Documentary,History,Music     Documentary,History,War          Documentary,Horror \n                          2                           1                           1 \n   Documentary,Horror,Short           Documentary,Music           Documentary,Short \n                          1                           9                          11 \n                      Drama ",
        "               Drama,Family        Drama,Family,Fantasy \n                         88                          50                          31 \n       Drama,Family,History          Drama,Family,Music        Drama,Family,Musical \n                          1                           1                           3 \n       Drama,Family,Mystery        Drama,Family,Romance               Drama,Fantasy \n                          2                          33                          14 \n        Drama,Fantasy,Music       Drama,Fantasy,Musical ",
        "      Drama,Fantasy,Romance \n                          2                           1                           8 \n        Drama,History,Music           Drama,History,War                Drama,Horror \n                          1                           1                           1 \n                Drama,Music         Drama,Music,Romance               Drama,Musical \n                          1                           8                           2 \n      Drama,Musical,Romance               Drama,Mystery       Drama,Mystery,Romance ",
        "\n                          3                           1                           5 \n     Drama,Mystery,Thriller               Drama,Romance         Drama,Romance,Sport \n                          1                         126                           1 \n                Drama,Short                   Drama,War               Drama,Western \n                          1                           3                           2 \n                     Family              Family,Fantasy      Family,Fantasy,Musical \n                        106 ",
        "                         10                           2 \n     Family,Fantasy,Romance                Family,Music        Family,Music,Musical \n                          1                           5                           1 \n       Family,Music,Romance          Family,Music,Short              Family,Musical \n                          1                           1                           8 \n        Family,Musical,News        Family,Mystery,Sport              Family,Romance \n                          1                           1 ",
        "                         15 \n              Family,Sci-Fi                Family,Short                     Fantasy \n                          1                           6                           7 \n     Fantasy,Horror,Mystery               Fantasy,Music             Fantasy,Romance \n                          1                           2                           4 \n          History,Short,War                      Horror              Horror,Mystery \n                          1                          20                           1 ",
        "\n    Horror,Mystery,Thriller                Horror,Short             Horror,Thriller \n                          3                           2                           4 \n                      Music               Music,Romance                Music,Sci-Fi \n                         17                           1                           1 \n                Music,Short                     Musical             Mystery,Romance \n                          3                          19                           2 \n           Reality-TV,Short ",
        "                    Romance              Romance,Sci-Fi \n                          1                         117                           1 \n            Romance,Western                      Sci-Fi                       Short \n                          1                           2                           9 \n            Short,Talk-Show                       Sport                   Talk-Show \n                          1                           1                           1 \n                   Thriller \n                          4 ",
        "\n",
        "> ",
        "pacman::p_load(tidyverse,readxl)",
        "> ",
        "# read and clean data",
        "> ",
        "movie_file <- \"raw-data/movies.xlsx\"",
        "> ",
        "movie_fl <- read_excel(movie_file,sheet=1,na=\"NA\")",
        "> ",
        "movie_fl <- filter(movie_fl, movie_fl$christmas",
        "+ ",
        "                   == \"TRUE\")",
        "> ",
        "movie_fl <- movie_fl |>",
        "+ ",
        "  select(primary_title",
        "+ ",
        ",genres, average_rating, num_votes)",
        "> ",
        "movie_list$genres <- strsplit(movie_fl$genres, \",\")",
        "错误: 找不到对象'movie_list'\n",
        "> ",
        "table(movie_fl$genres)",
        "\n Action,Adventure,Animation     Action,Adventure,Comedy      Action,Adventure,Drama \n                          2                           2                           3 \n              Action,Comedy         Action,Comedy,Crime         Action,Comedy,Drama \n                          3                           2                           2 \n       Action,Comedy,Family        Action,Comedy,Horror          Action,Crime,Drama \n                          1                           4                           1 \n               Action,Drama ",
        "              Action,Family      Action,Horror,Thriller \n                          1                           1                           1 \n                  Adventure  Adventure,Animation,Comedy   Adventure,Animation,Drama \n                          1                          33                           2 \n Adventure,Animation,Family Adventure,Animation,Fantasy            Adventure,Comedy \n                         14                           1                           2 \n     Adventure,Comedy,Drama     Adventure,Comedy,Family ",
        "   Adventure,Comedy,Musical \n                          6                          16                           1 \n     Adventure,Crime,Family      Adventure,Drama,Family     Adventure,Drama,Fantasy \n                          1                           6                           1 \n    Adventure,Drama,Mystery            Adventure,Family    Adventure,Family,Fantasy \n                          1                           2                           4 \n   Adventure,Fantasy,Horror   Adventure,Fantasy,Romance                   Animation ",
        "\n                          1                           1                          44 \n           Animation,Comedy      Animation,Comedy,Drama     Animation,Comedy,Family \n                          5                           4                          30 \n   Animation,Comedy,Fantasy    Animation,Comedy,Musical    Animation,Comedy,Romance \n                          1                           1                           3 \n    Animation,Comedy,Sci-Fi      Animation,Comedy,Short             Animation,Drama \n                          1 ",
        "                          2                           1 \n     Animation,Drama,Family     Animation,Drama,Fantasy            Animation,Family \n                          6                           2                          44 \n   Animation,Family,Fantasy      Animation,Family,Music    Animation,Family,Musical \n                         13                           2                           5 \n    Animation,Family,Sci-Fi      Animation,Family,Short           Animation,Fantasy \n                          2                           9 ",
        "                          2 \n   Animation,Fantasy,Horror     Animation,Fantasy,Short      Animation,Horror,Short \n                          1                           2                           1 \n          Animation,Musical           Animation,Romance             Animation,Short \n                          2                           1                          12 \n     Biography,Comedy,Drama Biography,Documentary,Sport             Biography,Drama \n                          1                           1                           1 ",
        "\n     Biography,Drama,Family       Biography,Romance,War                      Comedy \n                          1                           1                         138 \n         Comedy,Crime,Drama         Comedy,Crime,Family         Comedy,Crime,Horror \n                          1                           1                           1 \n       Comedy,Crime,Mystery        Comedy,Crime,Romance       Comedy,Crime,Thriller \n                          1                           1                           2 \n       Comedy,Crime,Western ",
        "         Comedy,Documentary   Comedy,Documentary,Family \n                          1                           2                           2 \n   Comedy,Documentary,Music    Comedy,Documentary,Short      Comedy,Documentary,War \n                          1                           2                           1 \n               Comedy,Drama         Comedy,Drama,Family        Comedy,Drama,Fantasy \n                         34                          88                          14 \n        Comedy,Drama,Horror          Comedy,Drama,Music ",
        "       Comedy,Drama,Mystery \n                          1                           6                           2 \n       Comedy,Drama,Romance         Comedy,Drama,Sci-Fi       Comedy,Drama,Thriller \n                        130                           1                           1 \n              Comedy,Family       Comedy,Family,Fantasy        Comedy,Family,Horror \n                         40                          24                           1 \n        Comedy,Family,Music       Comedy,Family,Musical       Comedy,Family,Mystery ",
        "\n                          7                           6                           1 \n      Comedy,Family,Romance        Comedy,Family,Sci-Fi         Comedy,Family,Short \n                         27                           1                           2 \n             Comedy,Fantasy       Comedy,Fantasy,Horror      Comedy,Fantasy,Romance \n                         12                           1                           9 \n      Comedy,Fantasy,Sci-Fi              Comedy,History               Comedy,Horror \n                          1 ",
        "                          1                           7 \n      Comedy,Horror,Mystery        Comedy,Horror,Sci-Fi                Comedy,Music \n                          1                           1                           2 \n       Comedy,Music,Romance              Comedy,Musical      Comedy,Musical,Romance \n                          1                           1                           1 \n       Comedy,Musical,Short      Comedy,Mystery,Romance              Comedy,Romance \n                          1                           1 ",
        "                        136 \n        Comedy,Sci-Fi,Short                Comedy,Short             Comedy,Thriller \n                          1                          12                           1 \n                      Crime       Crime,Drama,Film-Noir         Crime,Drama,Mystery \n                          1                           1                           1 \n       Crime,Drama,Thriller       Crime,Horror,Thriller              Crime,Thriller \n                          3                           1                           1 ",
        "\n                Documentary          Documentary,Family         Documentary,History \n                         40                           4                           3 \n  Documentary,History,Music     Documentary,History,War          Documentary,Horror \n                          2                           1                           1 \n   Documentary,Horror,Short           Documentary,Music           Documentary,Short \n                          1                           9                          11 \n                      Drama ",
        "               Drama,Family        Drama,Family,Fantasy \n                         88                          50                          31 \n       Drama,Family,History          Drama,Family,Music        Drama,Family,Musical \n                          1                           1                           3 \n       Drama,Family,Mystery        Drama,Family,Romance               Drama,Fantasy \n                          2                          33                          14 \n        Drama,Fantasy,Music       Drama,Fantasy,Musical ",
        "      Drama,Fantasy,Romance \n                          2                           1                           8 \n        Drama,History,Music           Drama,History,War                Drama,Horror \n                          1                           1                           1 \n                Drama,Music         Drama,Music,Romance               Drama,Musical \n                          1                           8                           2 \n      Drama,Musical,Romance               Drama,Mystery       Drama,Mystery,Romance ",
        "\n                          3                           1                           5 \n     Drama,Mystery,Thriller               Drama,Romance         Drama,Romance,Sport \n                          1                         126                           1 \n                Drama,Short                   Drama,War               Drama,Western \n                          1                           3                           2 \n                     Family              Family,Fantasy      Family,Fantasy,Musical \n                        106 ",
        "                         10                           2 \n     Family,Fantasy,Romance                Family,Music        Family,Music,Musical \n                          1                           5                           1 \n       Family,Music,Romance          Family,Music,Short              Family,Musical \n                          1                           1                           8 \n        Family,Musical,News        Family,Mystery,Sport              Family,Romance \n                          1                           1 ",
        "                         15 \n              Family,Sci-Fi                Family,Short                     Fantasy \n                          1                           6                           7 \n     Fantasy,Horror,Mystery               Fantasy,Music             Fantasy,Romance \n                          1                           2                           4 \n          History,Short,War                      Horror              Horror,Mystery \n                          1                          20                           1 ",
        "\n    Horror,Mystery,Thriller                Horror,Short             Horror,Thriller \n                          3                           2                           4 \n                      Music               Music,Romance                Music,Sci-Fi \n                         17                           1                           1 \n                Music,Short                     Musical             Mystery,Romance \n                          3                          19                           2 \n           Reality-TV,Short ",
        "                    Romance              Romance,Sci-Fi \n                          1                         117                           1 \n            Romance,Western                      Sci-Fi                       Short \n                          1                           2                           9 \n            Short,Talk-Show                       Sport                   Talk-Show \n                          1                           1                           1 \n                   Thriller \n                          4 ",
        "\n",
        "> ",
        "movie_list$genres <- strsplit(movie_fl$genres, \",\")",
        "错误: 找不到对象'movie_list'\n",
        "> ",
        "# read and clean data",
        "> ",
        "movie_file <- \"raw-data/movies.xlsx\"",
        "> ",
        "movie_fl <- read_excel(movie_file,sheet=1,na=\"NA\")",
        "> ",
        "movie_fl <- filter(movie_fl, movie_fl$christmas",
        "+ ",
        "                   == \"TRUE\")",
        "> ",
        "movie_fl <- movie_fl |>",
        "+ ",
        "  select(primary_title",
        "+ ",
        ",genres, average_rating, num_votes)",
        "> ",
        "movie_list <- strsplit(with(movie_fl,genres), \",\")",
        "> ",
        "table(movie_fl$genres)",
        "\n Action,Adventure,Animation     Action,Adventure,Comedy      Action,Adventure,Drama \n                          2                           2                           3 \n              Action,Comedy         Action,Comedy,Crime         Action,Comedy,Drama \n                          3                           2                           2 \n       Action,Comedy,Family        Action,Comedy,Horror          Action,Crime,Drama \n                          1                           4                           1 \n               Action,Drama ",
        "              Action,Family      Action,Horror,Thriller \n                          1                           1                           1 \n                  Adventure  Adventure,Animation,Comedy   Adventure,Animation,Drama \n                          1                          33                           2 \n Adventure,Animation,Family Adventure,Animation,Fantasy            Adventure,Comedy \n                         14                           1                           2 \n     Adventure,Comedy,Drama     Adventure,Comedy,Family ",
        "   Adventure,Comedy,Musical \n                          6                          16                           1 \n     Adventure,Crime,Family      Adventure,Drama,Family     Adventure,Drama,Fantasy \n                          1                           6                           1 \n    Adventure,Drama,Mystery            Adventure,Family    Adventure,Family,Fantasy \n                          1                           2                           4 \n   Adventure,Fantasy,Horror   Adventure,Fantasy,Romance                   Animation ",
        "\n                          1                           1                          44 \n           Animation,Comedy      Animation,Comedy,Drama     Animation,Comedy,Family \n                          5                           4                          30 \n   Animation,Comedy,Fantasy    Animation,Comedy,Musical    Animation,Comedy,Romance \n                          1                           1                           3 \n    Animation,Comedy,Sci-Fi      Animation,Comedy,Short             Animation,Drama \n                          1 ",
        "                          2                           1 \n     Animation,Drama,Family     Animation,Drama,Fantasy            Animation,Family \n                          6                           2                          44 \n   Animation,Family,Fantasy      Animation,Family,Music    Animation,Family,Musical \n                         13                           2                           5 \n    Animation,Family,Sci-Fi      Animation,Family,Short           Animation,Fantasy \n                          2                           9 ",
        "                          2 \n   Animation,Fantasy,Horror     Animation,Fantasy,Short      Animation,Horror,Short \n                          1                           2                           1 \n          Animation,Musical           Animation,Romance             Animation,Short \n                          2                           1                          12 \n     Biography,Comedy,Drama Biography,Documentary,Sport             Biography,Drama \n                          1                           1                           1 ",
        "\n     Biography,Drama,Family       Biography,Romance,War                      Comedy \n                          1                           1                         138 \n         Comedy,Crime,Drama         Comedy,Crime,Family         Comedy,Crime,Horror \n                          1                           1                           1 \n       Comedy,Crime,Mystery        Comedy,Crime,Romance       Comedy,Crime,Thriller \n                          1                           1                           2 \n       Comedy,Crime,Western ",
        "         Comedy,Documentary   Comedy,Documentary,Family \n                          1                           2                           2 \n   Comedy,Documentary,Music    Comedy,Documentary,Short      Comedy,Documentary,War \n                          1                           2                           1 \n               Comedy,Drama         Comedy,Drama,Family        Comedy,Drama,Fantasy \n                         34                          88                          14 \n        Comedy,Drama,Horror          Comedy,Drama,Music ",
        "       Comedy,Drama,Mystery \n                          1                           6                           2 \n       Comedy,Drama,Romance         Comedy,Drama,Sci-Fi       Comedy,Drama,Thriller \n                        130                           1                           1 \n              Comedy,Family       Comedy,Family,Fantasy        Comedy,Family,Horror \n                         40                          24                           1 \n        Comedy,Family,Music       Comedy,Family,Musical       Comedy,Family,Mystery ",
        "\n                          7                           6                           1 \n      Comedy,Family,Romance        Comedy,Family,Sci-Fi         Comedy,Family,Short \n                         27                           1                           2 \n             Comedy,Fantasy       Comedy,Fantasy,Horror      Comedy,Fantasy,Romance \n                         12                           1                           9 \n      Comedy,Fantasy,Sci-Fi              Comedy,History               Comedy,Horror \n                          1 ",
        "                          1                           7 \n      Comedy,Horror,Mystery        Comedy,Horror,Sci-Fi                Comedy,Music \n                          1                           1                           2 \n       Comedy,Music,Romance              Comedy,Musical      Comedy,Musical,Romance \n                          1                           1                           1 \n       Comedy,Musical,Short      Comedy,Mystery,Romance              Comedy,Romance \n                          1                           1 ",
        "                        136 \n        Comedy,Sci-Fi,Short                Comedy,Short             Comedy,Thriller \n                          1                          12                           1 \n                      Crime       Crime,Drama,Film-Noir         Crime,Drama,Mystery \n                          1                           1                           1 \n       Crime,Drama,Thriller       Crime,Horror,Thriller              Crime,Thriller \n                          3                           1                           1 ",
        "\n                Documentary          Documentary,Family         Documentary,History \n                         40                           4                           3 \n  Documentary,History,Music     Documentary,History,War          Documentary,Horror \n                          2                           1                           1 \n   Documentary,Horror,Short           Documentary,Music           Documentary,Short \n                          1                           9                          11 \n                      Drama ",
        "               Drama,Family        Drama,Family,Fantasy \n                         88                          50                          31 \n       Drama,Family,History          Drama,Family,Music        Drama,Family,Musical \n                          1                           1                           3 \n       Drama,Family,Mystery        Drama,Family,Romance               Drama,Fantasy \n                          2                          33                          14 \n        Drama,Fantasy,Music       Drama,Fantasy,Musical ",
        "      Drama,Fantasy,Romance \n                          2                           1                           8 \n        Drama,History,Music           Drama,History,War                Drama,Horror \n                          1                           1                           1 \n                Drama,Music         Drama,Music,Romance               Drama,Musical \n                          1                           8                           2 \n      Drama,Musical,Romance               Drama,Mystery       Drama,Mystery,Romance ",
        "\n                          3                           1                           5 \n     Drama,Mystery,Thriller               Drama,Romance         Drama,Romance,Sport \n                          1                         126                           1 \n                Drama,Short                   Drama,War               Drama,Western \n                          1                           3                           2 \n                     Family              Family,Fantasy      Family,Fantasy,Musical \n                        106 ",
        "                         10                           2 \n     Family,Fantasy,Romance                Family,Music        Family,Music,Musical \n                          1                           5                           1 \n       Family,Music,Romance          Family,Music,Short              Family,Musical \n                          1                           1                           8 \n        Family,Musical,News        Family,Mystery,Sport              Family,Romance \n                          1                           1 ",
        "                         15 \n              Family,Sci-Fi                Family,Short                     Fantasy \n                          1                           6                           7 \n     Fantasy,Horror,Mystery               Fantasy,Music             Fantasy,Romance \n                          1                           2                           4 \n          History,Short,War                      Horror              Horror,Mystery \n                          1                          20                           1 ",
        "\n    Horror,Mystery,Thriller                Horror,Short             Horror,Thriller \n                          3                           2                           4 \n                      Music               Music,Romance                Music,Sci-Fi \n                         17                           1                           1 \n                Music,Short                     Musical             Mystery,Romance \n                          3                          19                           2 \n           Reality-TV,Short ",
        "                    Romance              Romance,Sci-Fi \n                          1                         117                           1 \n            Romance,Western                      Sci-Fi                       Short \n                          1                           2                           9 \n            Short,Talk-Show                       Sport                   Talk-Show \n                          1                           1                           1 \n                   Thriller \n                          4 ",
        "\n",
        "> ",
        "movie_n <- sapply(movie_list,length)",
        "> ",
        "data.frame(x1=rep(with(movie_fl,x1),movie_n),x2=unlist(movie_list))",
        "Error in eval(substitute(expr), data, enclos = parent.frame()) : \n  找不到对象'x1'\n",
        "> ",
        "View(movie_list)",
        "> ",
        "movie_fl <- movie_fl |>",
        "+ ",
        "  select(primary_title",
        "+ ",
        ",genres, average_rating, num_votes)",
        "> ",
        "genre_list <- strsplit(with(movie_fl,genres), \",\")",
        "> ",
        "table(movie_fl$genres)",
        "\n Action,Adventure,Animation     Action,Adventure,Comedy      Action,Adventure,Drama \n                          2                           2                           3 \n              Action,Comedy         Action,Comedy,Crime         Action,Comedy,Drama \n                          3                           2                           2 \n       Action,Comedy,Family        Action,Comedy,Horror          Action,Crime,Drama \n                          1                           4                           1 \n               Action,Drama ",
        "              Action,Family      Action,Horror,Thriller \n                          1                           1                           1 \n                  Adventure  Adventure,Animation,Comedy   Adventure,Animation,Drama \n                          1                          33                           2 \n Adventure,Animation,Family Adventure,Animation,Fantasy            Adventure,Comedy \n                         14                           1                           2 \n     Adventure,Comedy,Drama     Adventure,Comedy,Family ",
        "   Adventure,Comedy,Musical \n                          6                          16                           1 \n     Adventure,Crime,Family      Adventure,Drama,Family     Adventure,Drama,Fantasy \n                          1                           6                           1 \n    Adventure,Drama,Mystery            Adventure,Family    Adventure,Family,Fantasy \n                          1                           2                           4 \n   Adventure,Fantasy,Horror   Adventure,Fantasy,Romance                   Animation ",
        "\n                          1                           1                          44 \n           Animation,Comedy      Animation,Comedy,Drama     Animation,Comedy,Family \n                          5                           4                          30 \n   Animation,Comedy,Fantasy    Animation,Comedy,Musical    Animation,Comedy,Romance \n                          1                           1                           3 \n    Animation,Comedy,Sci-Fi      Animation,Comedy,Short             Animation,Drama \n                          1 ",
        "                          2                           1 \n     Animation,Drama,Family     Animation,Drama,Fantasy            Animation,Family \n                          6                           2                          44 \n   Animation,Family,Fantasy      Animation,Family,Music    Animation,Family,Musical \n                         13                           2                           5 \n    Animation,Family,Sci-Fi      Animation,Family,Short           Animation,Fantasy \n                          2                           9 ",
        "                          2 \n   Animation,Fantasy,Horror     Animation,Fantasy,Short      Animation,Horror,Short \n                          1                           2                           1 \n          Animation,Musical           Animation,Romance             Animation,Short \n                          2                           1                          12 \n     Biography,Comedy,Drama Biography,Documentary,Sport             Biography,Drama \n                          1                           1                           1 ",
        "\n     Biography,Drama,Family       Biography,Romance,War                      Comedy \n                          1                           1                         138 \n         Comedy,Crime,Drama         Comedy,Crime,Family         Comedy,Crime,Horror \n                          1                           1                           1 \n       Comedy,Crime,Mystery        Comedy,Crime,Romance       Comedy,Crime,Thriller \n                          1                           1                           2 \n       Comedy,Crime,Western ",
        "         Comedy,Documentary   Comedy,Documentary,Family \n                          1                           2                           2 \n   Comedy,Documentary,Music    Comedy,Documentary,Short      Comedy,Documentary,War \n                          1                           2                           1 \n               Comedy,Drama         Comedy,Drama,Family        Comedy,Drama,Fantasy \n                         34                          88                          14 \n        Comedy,Drama,Horror          Comedy,Drama,Music ",
        "       Comedy,Drama,Mystery \n                          1                           6                           2 \n       Comedy,Drama,Romance         Comedy,Drama,Sci-Fi       Comedy,Drama,Thriller \n                        130                           1                           1 \n              Comedy,Family       Comedy,Family,Fantasy        Comedy,Family,Horror \n                         40                          24                           1 \n        Comedy,Family,Music       Comedy,Family,Musical       Comedy,Family,Mystery ",
        "\n                          7                           6                           1 \n      Comedy,Family,Romance        Comedy,Family,Sci-Fi         Comedy,Family,Short \n                         27                           1                           2 \n             Comedy,Fantasy       Comedy,Fantasy,Horror      Comedy,Fantasy,Romance \n                         12                           1                           9 \n      Comedy,Fantasy,Sci-Fi              Comedy,History               Comedy,Horror \n                          1 ",
        "                          1                           7 \n      Comedy,Horror,Mystery        Comedy,Horror,Sci-Fi                Comedy,Music \n                          1                           1                           2 \n       Comedy,Music,Romance              Comedy,Musical      Comedy,Musical,Romance \n                          1                           1                           1 \n       Comedy,Musical,Short      Comedy,Mystery,Romance              Comedy,Romance \n                          1                           1 ",
        "                        136 \n        Comedy,Sci-Fi,Short                Comedy,Short             Comedy,Thriller \n                          1                          12                           1 \n                      Crime       Crime,Drama,Film-Noir         Crime,Drama,Mystery \n                          1                           1                           1 \n       Crime,Drama,Thriller       Crime,Horror,Thriller              Crime,Thriller \n                          3                           1                           1 ",
        "\n                Documentary          Documentary,Family         Documentary,History \n                         40                           4                           3 \n  Documentary,History,Music     Documentary,History,War          Documentary,Horror \n                          2                           1                           1 \n   Documentary,Horror,Short           Documentary,Music           Documentary,Short \n                          1                           9                          11 \n                      Drama ",
        "               Drama,Family        Drama,Family,Fantasy \n                         88                          50                          31 \n       Drama,Family,History          Drama,Family,Music        Drama,Family,Musical \n                          1                           1                           3 \n       Drama,Family,Mystery        Drama,Family,Romance               Drama,Fantasy \n                          2                          33                          14 \n        Drama,Fantasy,Music       Drama,Fantasy,Musical ",
        "      Drama,Fantasy,Romance \n                          2                           1                           8 \n        Drama,History,Music           Drama,History,War                Drama,Horror \n                          1                           1                           1 \n                Drama,Music         Drama,Music,Romance               Drama,Musical \n                          1                           8                           2 \n      Drama,Musical,Romance               Drama,Mystery       Drama,Mystery,Romance ",
        "\n                          3                           1                           5 \n     Drama,Mystery,Thriller               Drama,Romance         Drama,Romance,Sport \n                          1                         126                           1 \n                Drama,Short                   Drama,War               Drama,Western \n                          1                           3                           2 \n                     Family              Family,Fantasy      Family,Fantasy,Musical \n                        106 ",
        "                         10                           2 \n     Family,Fantasy,Romance                Family,Music        Family,Music,Musical \n                          1                           5                           1 \n       Family,Music,Romance          Family,Music,Short              Family,Musical \n                          1                           1                           8 \n        Family,Musical,News        Family,Mystery,Sport              Family,Romance \n                          1                           1 ",
        "                         15 \n              Family,Sci-Fi                Family,Short                     Fantasy \n                          1                           6                           7 \n     Fantasy,Horror,Mystery               Fantasy,Music             Fantasy,Romance \n                          1                           2                           4 \n          History,Short,War                      Horror              Horror,Mystery \n                          1                          20                           1 ",
        "\n    Horror,Mystery,Thriller                Horror,Short             Horror,Thriller \n                          3                           2                           4 \n                      Music               Music,Romance                Music,Sci-Fi \n                         17                           1                           1 \n                Music,Short                     Musical             Mystery,Romance \n                          3                          19                           2 \n           Reality-TV,Short ",
        "                    Romance              Romance,Sci-Fi \n                          1                         117                           1 \n            Romance,Western                      Sci-Fi                       Short \n                          1                           2                           9 \n            Short,Talk-Show                       Sport                   Talk-Show \n                          1                           1                           1 \n                   Thriller \n                          4 ",
        "\n",
        "> ",
        "genre_n <- sapply(genre_list,length)",
        "> ",
        "data.frame(primary_title=movie_fl$primary_title, genres=unlist(genre_list), average_rating=rep(with(movie_fl,avarage_rating),genre_n),num_votes=movie_fl$num_votes)",
        "Error in eval(substitute(expr), data, enclos = parent.frame()) : \n  找不到对象'avarage_rating'\n",
        "> ",
        "data.frame(primary_title=movie_fl$primary_title, genres=unlist(genre_list), average_rating=rep(with(movie_fl,average_rating),genre_n),num_votes=movie_fl$num_votes)",
        "Error in data.frame(primary_title = movie_fl$primary_title, genres = unlist(genre_list),  : \n  参数值意味着不同的行数: 1929, 3881\n",
        "> ",
        "genre_n <- sapply(genre_list,length)",
        "> ",
        "data.frame(primary_title=movie_fl$primary_title, genres=unlist(genre_list), average_rating=rep(with(movie_fl,average_rating),genre_n),num_votes==rep(with(movie_fl,num_votes),genre_n))",
        "错误: 找不到对象'num_votes'\n",
        "> ",
        "View(movie_fl)",
        "> ",
        "movie_fl <- read_excel(movie_file,sheet=1,na=\"NA\")",
        "> ",
        "movie_fl <- filter(movie_fl, movie_fl$christmas",
        "+ ",
        "                   == \"TRUE\")",
        "> ",
        "movie_fl <- movie_fl |>",
        "+ ",
        "  select(primary_title",
        "+ ",
        ",genres, average_rating, num_votes)",
        "> ",
        "genre_list <- strsplit(with(movie_fl,genres), \",\")",
        "> ",
        "table(movie_fl$genres)",
        "\n Action,Adventure,Animation     Action,Adventure,Comedy      Action,Adventure,Drama \n                          2                           2                           3 \n              Action,Comedy         Action,Comedy,Crime         Action,Comedy,Drama \n                          3                           2                           2 \n       Action,Comedy,Family        Action,Comedy,Horror          Action,Crime,Drama \n                          1                           4                           1 \n               Action,Drama ",
        "              Action,Family      Action,Horror,Thriller \n                          1                           1                           1 \n                  Adventure  Adventure,Animation,Comedy   Adventure,Animation,Drama \n                          1                          33                           2 \n Adventure,Animation,Family Adventure,Animation,Fantasy            Adventure,Comedy \n                         14                           1                           2 \n     Adventure,Comedy,Drama     Adventure,Comedy,Family ",
        "   Adventure,Comedy,Musical \n                          6                          16                           1 \n     Adventure,Crime,Family      Adventure,Drama,Family     Adventure,Drama,Fantasy \n                          1                           6                           1 \n    Adventure,Drama,Mystery            Adventure,Family    Adventure,Family,Fantasy \n                          1                           2                           4 \n   Adventure,Fantasy,Horror   Adventure,Fantasy,Romance                   Animation ",
        "\n                          1                           1                          44 \n           Animation,Comedy      Animation,Comedy,Drama     Animation,Comedy,Family \n                          5                           4                          30 \n   Animation,Comedy,Fantasy    Animation,Comedy,Musical    Animation,Comedy,Romance \n                          1                           1                           3 \n    Animation,Comedy,Sci-Fi      Animation,Comedy,Short             Animation,Drama \n                          1 ",
        "                          2                           1 \n     Animation,Drama,Family     Animation,Drama,Fantasy            Animation,Family \n                          6                           2                          44 \n   Animation,Family,Fantasy      Animation,Family,Music    Animation,Family,Musical \n                         13                           2                           5 \n    Animation,Family,Sci-Fi      Animation,Family,Short           Animation,Fantasy \n                          2                           9 ",
        "                          2 \n   Animation,Fantasy,Horror     Animation,Fantasy,Short      Animation,Horror,Short \n                          1                           2                           1 \n          Animation,Musical           Animation,Romance             Animation,Short \n                          2                           1                          12 \n     Biography,Comedy,Drama Biography,Documentary,Sport             Biography,Drama \n                          1                           1                           1 ",
        "\n     Biography,Drama,Family       Biography,Romance,War                      Comedy \n                          1                           1                         138 \n         Comedy,Crime,Drama         Comedy,Crime,Family         Comedy,Crime,Horror \n                          1                           1                           1 \n       Comedy,Crime,Mystery        Comedy,Crime,Romance       Comedy,Crime,Thriller \n                          1                           1                           2 \n       Comedy,Crime,Western ",
        "         Comedy,Documentary   Comedy,Documentary,Family \n                          1                           2                           2 \n   Comedy,Documentary,Music    Comedy,Documentary,Short      Comedy,Documentary,War \n                          1                           2                           1 \n               Comedy,Drama         Comedy,Drama,Family        Comedy,Drama,Fantasy \n                         34                          88                          14 \n        Comedy,Drama,Horror          Comedy,Drama,Music ",
        "       Comedy,Drama,Mystery \n                          1                           6                           2 \n       Comedy,Drama,Romance         Comedy,Drama,Sci-Fi       Comedy,Drama,Thriller \n                        130                           1                           1 \n              Comedy,Family       Comedy,Family,Fantasy        Comedy,Family,Horror \n                         40                          24                           1 \n        Comedy,Family,Music       Comedy,Family,Musical       Comedy,Family,Mystery ",
        "\n                          7                           6                           1 \n      Comedy,Family,Romance        Comedy,Family,Sci-Fi         Comedy,Family,Short \n                         27                           1                           2 \n             Comedy,Fantasy       Comedy,Fantasy,Horror      Comedy,Fantasy,Romance \n                         12                           1                           9 \n      Comedy,Fantasy,Sci-Fi              Comedy,History               Comedy,Horror \n                          1 ",
        "                          1                           7 \n      Comedy,Horror,Mystery        Comedy,Horror,Sci-Fi                Comedy,Music \n                          1                           1                           2 \n       Comedy,Music,Romance              Comedy,Musical      Comedy,Musical,Romance \n                          1                           1                           1 \n       Comedy,Musical,Short      Comedy,Mystery,Romance              Comedy,Romance \n                          1                           1 ",
        "                        136 \n        Comedy,Sci-Fi,Short                Comedy,Short             Comedy,Thriller \n                          1                          12                           1 \n                      Crime       Crime,Drama,Film-Noir         Crime,Drama,Mystery \n                          1                           1                           1 \n       Crime,Drama,Thriller       Crime,Horror,Thriller              Crime,Thriller \n                          3                           1                           1 ",
        "\n                Documentary          Documentary,Family         Documentary,History \n                         40                           4                           3 \n  Documentary,History,Music     Documentary,History,War          Documentary,Horror \n                          2                           1                           1 \n   Documentary,Horror,Short           Documentary,Music           Documentary,Short \n                          1                           9                          11 \n                      Drama ",
        "               Drama,Family        Drama,Family,Fantasy \n                         88                          50                          31 \n       Drama,Family,History          Drama,Family,Music        Drama,Family,Musical \n                          1                           1                           3 \n       Drama,Family,Mystery        Drama,Family,Romance               Drama,Fantasy \n                          2                          33                          14 \n        Drama,Fantasy,Music       Drama,Fantasy,Musical ",
        "      Drama,Fantasy,Romance \n                          2                           1                           8 \n        Drama,History,Music           Drama,History,War                Drama,Horror \n                          1                           1                           1 \n                Drama,Music         Drama,Music,Romance               Drama,Musical \n                          1                           8                           2 \n      Drama,Musical,Romance               Drama,Mystery       Drama,Mystery,Romance ",
        "\n                          3                           1                           5 \n     Drama,Mystery,Thriller               Drama,Romance         Drama,Romance,Sport \n                          1                         126                           1 \n                Drama,Short                   Drama,War               Drama,Western \n                          1                           3                           2 \n                     Family              Family,Fantasy      Family,Fantasy,Musical \n                        106 ",
        "                         10                           2 \n     Family,Fantasy,Romance                Family,Music        Family,Music,Musical \n                          1                           5                           1 \n       Family,Music,Romance          Family,Music,Short              Family,Musical \n                          1                           1                           8 \n        Family,Musical,News        Family,Mystery,Sport              Family,Romance \n                          1                           1 ",
        "                         15 \n              Family,Sci-Fi                Family,Short                     Fantasy \n                          1                           6                           7 \n     Fantasy,Horror,Mystery               Fantasy,Music             Fantasy,Romance \n                          1                           2                           4 \n          History,Short,War                      Horror              Horror,Mystery \n                          1                          20                           1 ",
        "\n    Horror,Mystery,Thriller                Horror,Short             Horror,Thriller \n                          3                           2                           4 \n                      Music               Music,Romance                Music,Sci-Fi \n                         17                           1                           1 \n                Music,Short                     Musical             Mystery,Romance \n                          3                          19                           2 \n           Reality-TV,Short ",
        "                    Romance              Romance,Sci-Fi \n                          1                         117                           1 \n            Romance,Western                      Sci-Fi                       Short \n                          1                           2                           9 \n            Short,Talk-Show                       Sport                   Talk-Show \n                          1                           1                           1 \n                   Thriller \n                          4 ",
        "\n",
        "> ",
        "genre_n <- sapply(genre_list,length)",
        "> ",
        "data.frame(primary_title=movie_fl$primary_title, genres=unlist(genre_list), average_rating=rep(with(movie_fl,average_rating),genre_n),num_votes==rep(with(movie_fl,num_votes),genre_n))",
        "错误: 找不到对象'num_votes'\n",
        "> ",
        "data.frame(primary_title=movie_fl$primary_title, genres=unlist(genre_list), average_rating=rep(with(movie_fl,average_rating),genre_n),num_votes=rep(with(movie_fl,num_votes),genre_n))",
        "Error in data.frame(primary_title = movie_fl$primary_title, genres = unlist(genre_list),  : \n  参数值意味着不同的行数: 1929, 3881\n",
        "> ",
        "genre_n <- sapply(genre_list,length)",
        "> ",
        "data.frame(primary_title=rep(with(movie_fl,primary_title),genre_n), genres=unlist(genre_list), average_rating=rep(with(movie_fl,average_rating),genre_n),num_votes=rep(with(movie_fl,num_votes),genre_n))",
        "                                                 primary_title      genres average_rating num_votes\n1                                            A Christmas Carol       Drama            7.5      8312\n2                                            A Christmas Carol      Family            7.5      8312\n3                                            A Christmas Carol     Fantasy            7.5      8312\n4                                            Christmas in July      Comedy            7.4      4172\n5                                            Christmas in July",
        "       Drama            7.4      4172\n6                                            Christmas in July     Romance            7.4      4172\n7                                            Christmas Holiday       Crime            6.5      1583\n8                                            Christmas Holiday       Drama            6.5      1583\n9                                            Christmas Holiday   Film-Noir            6.5      1583\n10                                    Christmas in Connecticut      Comedy",
        "            7.3     11196\n11                                    Christmas in Connecticut     Romance            7.3     11196\n12                                              Bush Christmas      Action            6.2       515\n13                                              Bush Christmas   Adventure            6.2       515\n14                                              Bush Christmas      Comedy            6.2       515\n15                                               Christmas Eve      Comedy            5.7",
        "       805\n16                                               Christmas Eve       Drama            5.7       805\n17                                           A Christmas Carol       Drama            5.4        32\n18                                           A Christmas Carol     Fantasy            5.4        32\n19                                           A Christmas Carol       Drama            8.1     24671\n20                                           A Christmas Carol      Family            8.1     24671\n21 ",
        "                                          A Christmas Carol     Fantasy            8.1     24671\n22                                             White Christmas      Comedy            7.6     47688\n23                                             White Christmas     Musical            7.6     47688\n24                                             White Christmas     Romance            7.6     47688\n25                               At That Time, at Christmas...       Drama            6.5        20\n26                               At That Time, at Christmas...",
        "         War            6.5        20\n27                                  The Night Before Christmas      Comedy            7.5      1934\n28                                  The Night Before Christmas     Fantasy            7.5      1934\n29                                  The Night Before Christmas     Romance            7.5      1934\n30                                 Carol for Another Christmas       Drama            6.5      1246\n31                                 Carol for Another Christmas     Fantasy",
        "            6.5      1246\n32                                   A Charlie Brown Christmas   Animation            8.3     42101\n33                                   A Charlie Brown Christmas      Comedy            8.3     42101\n34                                   A Charlie Brown Christmas       Drama            8.3     42101\n35                            The Christmas That Almost Wasn't      Family            3.5       917\n36                            The Christmas That Almost Wasn't     Fantasy            3.5",
        "       917\n37                                          The Christmas Tree      Family            6.4       168\n38                             How the Grinch Stole Christmas!   Animation            8.3     56692\n39                             How the Grinch Stole Christmas!      Comedy            8.3     56692\n40                             How the Grinch Stole Christmas!      Family            8.3     56692\n41                                           The Christmas Kid       Drama            5.4        66\n42 ",
        "                                          The Christmas Kid     Western            5.4        66\n43                                          The Christmas Tree       Drama            6.3       719\n44                           The Homecoming: A Christmas Story       Drama            8.3      2039\n45                           The Homecoming: A Christmas Story      Family            8.3      2039\n46                                       The Christmas Martian      Family            4.8       186\n47                                       The Christmas Martian",
        "      Sci-Fi            4.8       186\n48                          The House Without a Christmas Tree       Drama            8.0       874\n49                          The House Without a Christmas Tree      Family            8.0       874\n50                                       A Dream for Christmas       Drama            6.7       112\n51                                             Black Christmas      Horror            7.1     46105\n52                                             Black Christmas     Mystery",
        "            7.1     46105\n53                                             Black Christmas    Thriller            7.1     46105\n54  The First Christmas: The Story of the First Christmas Snow   Animation            6.8       579\n55  The First Christmas: The Story of the First Christmas Snow      Family            6.8       579\n56  The First Christmas: The Story of the First Christmas Snow     Fantasy            6.8       579\n57                               Journey to the Christmas Star   Adventure            6.5",
        "      1355\n58                               Journey to the Christmas Star      Family            6.5      1355\n59                               Journey to the Christmas Star     Fantasy            6.5      1355\n60                                   Young Pioneers' Christmas       Drama            6.9        86\n61                                   Young Pioneers' Christmas     Western            6.9        86\n62                       Christmas Miracle in Caufield, U.S.A.       Drama            5.8       171\n63 ",
        "                           Emmet Otter's Jug-Band Christmas      Comedy            8.2      4460\n64                            Emmet Otter's Jug-Band Christmas       Drama            8.2      4460\n65                            Emmet Otter's Jug-Band Christmas      Family            8.2      4460\n66                                   It Happened One Christmas      Comedy            6.0       969\n67                                   It Happened One Christmas     Fantasy            6.0       969\n68                     Nestor, the Long-Eared Christmas Donkey",
        "   Animation            6.9      2335\n69                     Nestor, the Long-Eared Christmas Donkey       Drama            6.9      2335\n70                     Nestor, the Long-Eared Christmas Donkey      Family            6.9      2335\n71                                          Sunshine Christmas       Drama            7.8        93\n72                                              Blue Christmas      Sci-Fi            6.2       124\n73                                     A Christmas to Remember       Drama",
        "            6.4       171\n74                                     A Christmas to Remember      Family            6.4       171\n75                                  The Night Before Christmas       Drama            6.1        71\n76                                  The Night Before Christmas      Horror            6.1        71\n77                                 An American Christmas Carol       Drama            6.8      1616\n78                                 An American Christmas Carol     Fantasy            6.8",
        "      1616\n79                               Christmas Lilies of the Field       Drama            6.5       107\n80                      Rudolph and Frosty's Christmas in July   Adventure            6.3      2547\n81                      Rudolph and Frosty's Christmas in July   Animation            6.3      2547\n82                      Rudolph and Frosty's Christmas in July      Comedy            6.3      2547\n83                                          Christmas Mountain   Adventure            6.5       148\n84 ",
        "                                         Christmas Mountain       Drama            6.5       148\n85                                          Christmas Mountain      Family            6.5       148\n86                                    A Christmas Without Snow       Drama            5.7       401\n87                                    A Christmas Without Snow       Music            5.7       401\n88                                     Mr. Krueger's Christmas       Drama            7.9      1092\n89                                     Mr. Krueger's Christmas",
        "      Family            7.9      1092\n90                                     Mr. Krueger's Christmas     Fantasy            7.9      1092\n91                                       Pinocchio's Christmas   Animation            6.4       752\n92                                       Pinocchio's Christmas      Comedy            6.4       752\n93                                       Pinocchio's Christmas      Family            6.4       752\n94                                              Christmas Evil      Horror",
        "            5.5      8110\n95                                              Christmas Evil    Thriller            5.5      8110\n96                             The Best Christmas Pageant Ever      Comedy            7.2       789\n97                             The Best Christmas Pageant Ever      Family            7.2       789\n98                                              Bush Christmas       Drama            5.2       384\n99                                              Bush Christmas      Family            5.2",
        "       384\n100                                          A Christmas Story      Comedy            7.9    163273\n101                                          A Christmas Story      Family            7.9    163273\n102                        The Gift of Love: A Christmas Story       Drama            6.7       357\n103                               Merry Christmas Mr. Lawrence       Drama            7.2     19475\n104                               Merry Christmas Mr. Lawrence         War            7.2     19475\n105",
        "                                          A Christmas Carol       Drama            7.8     17146\n106                                          A Christmas Carol      Family            7.8     17146\n107                                          A Christmas Carol     Fantasy            7.8     17146\n108                     Kenny & Dolly: A Christmas to Remember       Music            8.3       139\n109                             The Night They Saved Christmas       Drama            6.5      1605\n110                             The Night They Saved Christmas",
        "      Family            6.5      1605\n111                             The Night They Saved Christmas     Fantasy            6.5      1605\n112                                            Merry Christmas      Comedy            6.6       170\n113                                            Merry Christmas     Romance            6.6       170\n114                                  Don't Open Till Christmas      Horror            4.7      2804\n115                                  Don't Open Till Christmas     Mystery",
        "            4.7      2804\n116                                        One Magic Christmas      Family            6.4      4233\n117                                        One Magic Christmas     Fantasy            6.4      4233\n118                                              Christmas Eve       Drama            7.3       427\n119                                         The Christmas Gift       Drama            6.5       768\n120                                         The Christmas Star       Drama            6.1",
        "       770\n121                                         The Christmas Star      Family            6.1       770\n122                                 A Smoky Mountain Christmas     Fantasy            6.9      1290\n123                                 A Smoky Mountain Christmas       Music            6.9      1290\n124                                    Merry Christmas Octopus      Comedy            6.8       191\n125                                    Merry Christmas Octopus      Family            6.8       191\n126",
        "                                    Merry Christmas Octopus      Sci-Fi            6.8       191\n127                            Christmas Comes to Willow Creek       Drama            6.4       619\n128                            Christmas Comes to Willow Creek      Family            6.4       619\n129                            Christmas Comes to Willow Creek     Fantasy            6.4       619\n130                                         A Hobo's Christmas       Drama            6.4       427\n131                               Blackadder's Christmas Carol",
        "      Comedy            7.9     13712\n132                               Blackadder's Christmas Carol     History            7.9     13712\n133                                         The Christmas Wife       Drama            6.2       408\n134                                     Ernest Saves Christmas      Comedy            5.7     12392\n135                                     Ernest Saves Christmas      Family            5.7     12392\n136                                     Ernest Saves Christmas     Fantasy",
        "            5.7     12392\n137                                 I'll Be Home for Christmas       Drama            6.5       292\n138                      Julie Andrews: The Sound of Christmas      Family            8.9       125\n139                      Julie Andrews: The Sound of Christmas       Music            8.9       125\n140                                     A Very Brady Christmas      Comedy            5.9      2120\n141                                     A Very Brady Christmas       Drama            5.9",
        "      2120\n142                                     A Very Brady Christmas      Family            5.9      2120\n143                                      Cripples Go Christmas       Drama            6.6        14\n144                                 It Nearly Wasn't Christmas   Adventure            5.7       246\n145                                 It Nearly Wasn't Christmas      Comedy            5.7       246\n146                      National Lampoon's Christmas Vacation      Comedy            7.5    209533\n147",
        "                                          The Christmas Toy      Family            7.8      1404\n148                                          The Christmas Toy     Fantasy            7.8      1404\n149                                          The Christmas Toy     Musical            7.8      1404\n150                          Guess Who's Coming for Christmas?      Comedy            5.1       105\n151                          Guess Who's Coming for Christmas?     Fantasy            5.1       105\n152                          Guess Who's Coming for Christmas?",
        "      Sci-Fi            5.1       105\n153                                         Home for Christmas       Drama            5.7       223\n154                                         Home for Christmas      Family            5.7       223\n155                                The Kid Who Loved Christmas       Drama            6.3       304\n156                                        A Mom for Christmas      Comedy            6.5      1209\n157                                        A Mom for Christmas      Family",
        "            6.5      1209\n158                                        A Mom for Christmas     Fantasy            6.5      1209\n159                                   All I Want for Christmas      Comedy            5.9      5420\n160                                   All I Want for Christmas      Family            5.9      5420\n161                                   All I Want for Christmas     Romance            5.9      5420\n162                             The Comic Book Christmas Caper   Adventure            6.6",
        "        60\n163                             The Comic Book Christmas Caper       Crime            6.6        60\n164                             The Comic Book Christmas Caper      Family            6.6        60\n165                               Christmas on Division Street       Drama            6.7       567\n166                               Christmas on Division Street     Romance            6.7       567\n167                                     The Christmas Stallion       Drama            5.7       118\n168",
        "                                   Christmas in Connecticut      Comedy            4.8      1565\n169                                   Christmas in Connecticut     Romance            4.8      1565\n170                                 The Muppet Christmas Carol      Comedy            7.7     66015\n171                                 The Muppet Christmas Carol       Drama            7.7     66015\n172                                 The Muppet Christmas Carol      Family            7.7     66015\n173                             The Nightmare Before Christmas",
        "   Animation            7.9    367288\n174                             The Nightmare Before Christmas      Family            7.9    367288\n175                             The Nightmare Before Christmas     Fantasy            7.9    367288\n176                                        A Christmas Romance      Comedy            6.1       867\n177                                        A Christmas Romance       Drama            6.1       867\n178                                        A Christmas Romance      Family",
        "            6.1       867\n179                                              One Christmas       Drama            6.0       751\n180                                              One Christmas      Family            6.0       751\n181                                          The Christmas Box       Drama            7.0      1270\n182                                          The Christmas Box     Fantasy            7.0      1270\n183                                          A Christmas Carol   Adventure            5.9",
        "       886\n184                                          A Christmas Carol   Animation            5.9       886\n185                                          A Christmas Carol       Drama            5.9       886\n186                                        Christmas Every Day      Comedy            6.2      1128\n187                                        Christmas Every Day     Fantasy            6.2      1128\n188                                         The Christmas Tree       Drama            6.9       437\n189",
        "                                         The Christmas Tree      Family            6.9       437\n190                                            Christmas in Oz   Animation            7.7        38\n191                                            Christmas in Oz     Fantasy            7.7        38\n192                                            Christmas in Oz       Short            7.7        38\n193                        Sesame Street: Elmo Saves Christmas      Family            6.5       416\n194                       The Flintstones Christmas in Bedrock",
        "   Animation            7.0       197\n195                       The Flintstones Christmas in Bedrock       Short            7.0       197\n196                                        The Christmas Party      Comedy            7.0       451\n197                       Mannheim Steamroller: Christmas Live Documentary            6.9        57\n198                       Mannheim Steamroller: Christmas Live       Music            6.9        57\n199                       The Munsters' Scary Little Christmas      Comedy",
        "            4.9       654\n200                       The Munsters' Scary Little Christmas      Family            4.9       654\n201                       The Munsters' Scary Little Christmas      Horror            4.9       654\n202                                Will It Snow for Christmas?       Drama            7.0       881\n203              Beauty and the Beast: The Enchanted Christmas   Animation            5.9     11705\n204              Beauty and the Beast: The Enchanted Christmas      Family            5.9",
        "     11705\n205              Beauty and the Beast: The Enchanted Christmas     Fantasy            5.9     11705\n206                                            Christmas Fever      Comedy            6.5        65\n207                                            Christmas Fever     Romance            6.5        65\n208                                   Christmas in Cartoontown   Adventure            6.8        65\n209                                   Christmas in Cartoontown   Animation            6.8        65\n210",
        "                                   Christmas in Cartoontown      Family            6.8        65\n211                          Scrooge's Rock 'N' Roll Christmas     Musical            4.7        50\n212                                          Skyward Christmas       Drama            6.8        18\n213                                 Stubby Pringle's Christmas       Drama            7.5       118\n214                                 Stubby Pringle's Christmas      Family            7.5       118\n215                               How the Toys Saved Christmas",
        "   Adventure            6.5       585\n216                               How the Toys Saved Christmas   Animation            6.5       585\n217                               How the Toys Saved Christmas      Family            6.5       585\n218                             Mister Magoo's Christmas Carol   Animation            7.6      3103\n219                             Mister Magoo's Christmas Carol      Comedy            7.6      3103\n220                             Mister Magoo's Christmas Carol       Drama",
        "            7.6      3103\n221                              Mr. Willowby's Christmas Tree      Comedy            6.1       270\n222                              Mr. Willowby's Christmas Tree      Family            6.1       270\n223                              Mr. Willowby's Christmas Tree     Musical            6.1       270\n224                                The Boy Who Saved Christmas      Comedy            3.1       198\n225                                The Boy Who Saved Christmas      Family            3.1",
        "       198\n226                                The Boy Who Saved Christmas     Fantasy            3.1       198\n227                                     The Christmas Raccoons   Animation            7.0       156\n228                                     The Christmas Raccoons      Family            7.0       156\n229                                On the 2nd Day of Christmas      Comedy            6.1       894\n230                                On the 2nd Day of Christmas       Drama            6.1       894\n231",
        "                                On the 2nd Day of Christmas      Family            6.1       894\n232                                        A Christmas Reunion       Drama            6.0        87\n233                                         A Christmas Memory       Drama            7.0       792\n234                                         A Christmas Memory      Family            7.0       792\n235                                 I'll Be Home for Christmas       Drama            6.3       321\n236                                 I'll Be Home for Christmas",
        "     Romance            6.3       321\n237                            Christopher's Christmas Mission   Animation            8.0      2726\n238                            Christopher's Christmas Mission      Family            8.0      2726\n239                             Merry Christmas, George Bailey     Fantasy            7.3       151\n240                                       The Christmas Orange      Comedy            7.1        42\n241                                       The Christmas Orange       Drama",
        "            7.1        42\n242                                         The Christmas List      Comedy            6.7      1449\n243                                         The Christmas List     Fantasy            6.7      1449\n244                                         The Christmas List     Romance            6.7      1449\n245                                         Home for Christmas       Drama            6.5       102\n246                                           Bloody Christmas       Drama            6.7",
        "        61\n247                                           Bloody Christmas         War            6.7        61\n248                                 Johann's Gift to Christmas   Animation            6.2        26\n249                                 The Teddy Bears' Christmas   Animation            8.1       142\n250                                 The Teddy Bears' Christmas      Family            8.1       142\n [ reached 'max' / getOption(\"max.print\") -- omitted 3631 rows ]\n",
        "> ",
        "movie_sp <- data.frame(primary_title=rep(with(movie_fl,primary_title),genre_n), genres=unlist(genre_list), average_rating=rep(with(movie_fl,average_rating),genre_n),num_votes=rep(with(movie_fl,num_votes),genre_n))",
        "> ",
        "# mean",
        "> ",
        "aggregate(movie_sp$average_rating, by=list(type=movie_sp$genres),mean)",
        "          type        x\n1       Action 4.939130\n2    Adventure 5.899000\n3    Animation 6.409274\n4    Biography 6.840000\n5       Comedy 5.860235\n6        Crime 5.505000\n7  Documentary 7.016049\n8        Drama 6.046704\n9       Family 6.053510\n10     Fantasy 5.928324\n11   Film-Noir 6.500000\n12     History 7.390909\n13      Horror 5.000000\n14       Music 6.857333\n15     Musical 6.424138\n16     Mystery 5.864000\n17        News 6.600000\n18  Reality-TV 9.300000\n19     Romance 6.006886\n20      Sci-Fi 6.015385\n21       Short",
        " 6.420988\n22       Sport 6.025000\n23   Talk-Show 4.450000\n24    Thriller 4.863636\n25         War 7.200000\n26     Western 6.075000\n",
        "> ",
        "# mean",
        "> ",
        "table(movie_sp$genres)",
        "\n     Action   Adventure   Animation   Biography      Comedy       Crime Documentary       Drama      Family \n         23         100         248           5         850          20          81         713         641 \n    Fantasy   Film-Noir     History      Horror       Music     Musical     Mystery        News  Reality-TV \n        173           1          11          56          75          58          25           1           1 \n    Romance      Sci-Fi       Short       Sport   Talk-Show    Thriller         War ",
        "    Western \n        639          13          81           4           2          22           8           4 \n",
        "> ",
        "Mean <- aggregate(movie_sp$average_rating, by=list(type=movie_sp$genres),mean)",
        "> ",
        "Mean <- sort(Mean$x)",
        "> ",
        "# mean",
        "> ",
        "table(movie_sp$genres)",
        "\n     Action   Adventure   Animation   Biography      Comedy       Crime Documentary       Drama      Family \n         23         100         248           5         850          20          81         713         641 \n    Fantasy   Film-Noir     History      Horror       Music     Musical     Mystery        News  Reality-TV \n        173           1          11          56          75          58          25           1           1 \n    Romance      Sci-Fi       Short       Sport   Talk-Show    Thriller         War ",
        "    Western \n        639          13          81           4           2          22           8           4 \n",
        "> ",
        "Mean <- aggregate(movie_sp$average_rating, by=list(type=movie_sp$genres),mean)",
        "> ",
        "Mean$x <- sort(Mean$x)",
        "> ",
        "View(Mean)",
        "> ",
        "ggplot()+",
        "+ ",
        "  geom_histogram(Mean,aes(x))",
        "\u001B[1m\u001B[33mError\u001B[39m in `geom_histogram()`:\u001B[22m\n\u001B[38;5;232m\u001B[33m!\u001B[38;5;232m `mapping` must be created by `aes()`\u001B[39m\n\u001B[90mRun `\u001B]8;;rstudio:run:rlang::last_trace()\u0007rlang::last_trace()\u001B]8;;\u0007` to see where the error occurred.\u001B[39m\n",
        "> ",
        "ggplot()+",
        "+ ",
        "  geom_histogram(Mean,aes(x=x))",
        "\u001B[1m\u001B[33mError\u001B[39m in `geom_histogram()`:\u001B[22m\n\u001B[38;5;232m\u001B[33m!\u001B[38;5;232m `mapping` must be created by `aes()`\u001B[39m\n\u001B[90mRun `\u001B]8;;rstudio:run:rlang::last_trace()\u0007rlang::last_trace()\u001B]8;;\u0007` to see where the error occurred.\u001B[39m\n",
        "> ",
        "View(Mean)",
        "> ",
        "# mean",
        "> ",
        "table(movie_sp$genres)",
        "\n     Action   Adventure   Animation   Biography      Comedy       Crime Documentary       Drama      Family \n         23         100         248           5         850          20          81         713         641 \n    Fantasy   Film-Noir     History      Horror       Music     Musical     Mystery        News  Reality-TV \n        173           1          11          56          75          58          25           1           1 \n    Romance      Sci-Fi       Short       Sport   Talk-Show    Thriller         War ",
        "    Western \n        639          13          81           4           2          22           8           4 \n",
        "> ",
        "Mean <- aggregate(movie_sp$average_rating, by=list(type=movie_sp$genres),mean)",
        "> ",
        "Mean$x <- sort(Mean$x)",
        "> ",
        "names(Mean) <- c(\"genres\",\"average_rating\")",
        "> ",
        "ggplot(Mean)+",
        "+ ",
        "  geom_histogram(aes(x=genres,y=average_rating))",
        "\u001B[1m\u001B[33mError\u001B[39m in `geom_histogram()`:\u001B[22m\n\u001B[38;5;232m\u001B[33m!\u001B[38;5;232m Problem while computing stat.\n\u001B[36mℹ\u001B[38;5;232m Error occurred in the 1st layer.\u001B[39m\n\u001B[1mCaused by error in `setup_params()`:\u001B[22m\n\u001B[38;5;232m\u001B[33m!\u001B[38;5;232m `stat_bin()` must only have an \u001B[32mx\u001B[38;5;232m \u001B[3mor\u001B[23m \u001B[32my\u001B[38;5;232m aesthetic.\u001B[39m\n\u001B[90mRun `\u001B]8;;rstudio:run:rlang::last_trace()\u0007rlang::last_trace()\u001B]8;;\u0007` to see where the error occurred.\u001B[39m\n",
        "> ",
        "View(Mean)",
        "> ",
        "ggplot(Mean)+",
        "+ ",
        "  geom_point(aes(x=genres,y=average_rating))",
        "> ",
        "View(Mean)",
        "> ",
        "Mean[which(Mean$average_rating==max(Mean$average_rating))]",
        "Error in `[.data.frame`(Mean, which(Mean$average_rating == max(Mean$average_rating))) : \n  选择了未定义的列\n",
        "> ",
        "max(Mean$average_rating)",
        "[1] 9.3\n",
        "> ",
        "Mean$average_rating==max(Mean$average_rating)",
        " [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n[23] FALSE FALSE FALSE  TRUE\n",
        "> ",
        "which(Mean$average_rating==max(Mean$average_rating))",
        "[1] 26\n",
        "> ",
        "Mean[,which(Mean$average_rating==max(Mean$average_rating))]",
        "Error in `[.data.frame`(Mean, , which(Mean$average_rating == max(Mean$average_rating))) : \n  选择了未定义的列\n",
        "> ",
        "Mean[which(Mean$average_rating==max(Mean$average_rating)),]",
        "    genres average_rating\n26 Western            9.3\n",
        "> ",
        "View(movie_sp)",
        "> ",
        "View(Mean)",
        "> ",
        "# medain",
        "> ",
        "Medain <- aggregate(movie_sp$average_rating, by=list(type=movie_sp$genres),medain)",
        "错误: 找不到对象'medain'\n",
        "> ",
        "# median",
        "> ",
        "Median <- aggregate(movie_sp$average_rating, by=list(type=movie_sp$genres),median)",
        "> ",
        "Median$x <- sort(Median$x)",
        "> ",
        "names(Median) <- c(\"genres\",\"average_rating\")",
        "> ",
        "ggplot(Median)+",
        "+ ",
        "  geom_point(aes(x=genres,y=average_rating))",
        "> ",
        "View(Median)",
        "> ",
        "Median[which(Median$average_rating==max(Median$average_rating)),] # get the max mean",
        "    genres average_rating\n26 Western            9.3\n",
        "> ",
        "View(Mean)",
        "> ",
        "View(Median)",
        "> ",
        "# ",
        "> ",
        "Mean$genres==Median$genres",
        " [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n",
        "> ",
        "# filter",
        "> ",
        "movie_sp[which(movie_sp$genres==\"Western\"),]",
        "                 primary_title  genres average_rating num_votes\n42           The Christmas Kid Western            5.4        66\n61   Young Pioneers' Christmas Western            6.9        86\n1143    Christmas on the Range Western            6.3       665\n2919       El Camino Christmas Western            5.7     10269\n",
        "> ",
        "Mean <- aggregate(movie_sp$average_rating, by=list(type=movie_sp$genres),mean)",
        "> ",
        "View(Mean)",
        "> ",
        "View(movie_sp)",
        "> ",
        "View(movie_sp)",
        "\nRestarting R session...\n\n"
    ]
}